<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ballbinge for Vågsbygd</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .progress-container {
      max-width: 600px;
      margin: 0 auto 20px auto;
    }
    
    .progress-labels {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 0.9em;
      color: #666;
    }
    
    .progress-bar-container {
      position: relative;
      width: 100%;
      height: 35px;
      background: #e9ecef;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0,0,0,0.07);
    }
    
    .progress-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: linear-gradient(90deg, #28a745, #20c997);
      transition: width 0.7s cubic-bezier(0.71,0.43,0.38,0.86);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 0.9em;
      z-index: 2;
    }
    
    .pledge-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: linear-gradient(90deg, #ffc107, #ff8c00);
      transition: width 0.7s cubic-bezier(0.71,0.43,0.38,0.86);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #333;
      font-weight: bold;
      font-size: 0.9em;
      z-index: 1;
    }
    
    .donation-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    .donation-item {
      text-align: center;
      padding: 10px;
      background: white;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    
    .donation-item.total {
      background: #e8f5e8;
      border: 2px solid #007a33;
    }
    
    .donation-label {
      display: block;
      font-size: 0.9em;
      color: #666;
      margin-bottom: 5px;
    }
    
    .donation-amount, .pledge-amount, .total-amount {
      font-weight: bold;
      font-size: 1.1em;
    }
    
    .donation-amount {
      color: #28a745;
    }
    
    .equity-amount {
      color: #6f42c1;
    }
    
    .stotte-amount {
      color: #17a2b8;
    }
    
    .total-amount {
      color: #007a33;
    }
    .donasjons-status {
      text-align: center;
      margin-bottom: 1.5em;
    }
    .vipps-form {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 1em 0;
    }
    .vipps-form input[type="number"] {
      padding: 0.5em;
      font-size: 1.1em;
      width: 120px;
      margin-right: 1em;
      margin-bottom: 0.5em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .vipps-form input[type="text"] {
      padding: 0.5em;
      font-size: 1.1em;
      min-width: 210px;
      margin-bottom: 0.5em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .vipps-form .cta-btn {
      min-width: 200px;
      margin-top: 0.5em;
    }
    .cta-btn[disabled] {
      background: #aaa !important;
      cursor: not-allowed;
    }
    
    /* Forhåndsdefinerte beløp-knapper */
    .amount-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 1em 0;
    }
    
    .amount-btn {
      background: #f8f9fa;
      border: 2px solid #007a33;
      color: #007a33;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      min-width: 80px;
    }
    
    .amount-btn:hover {
      background: #007a33;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,122,51,0.3);
    }
    
    .amount-btn.active {
      background: #007a33;
      color: white;
      box-shadow: 0 4px 8px rgba(0,122,51,0.3);
    }
    
    .custom-amount {
      margin: 1.5em 0;
    }
    
    .custom-amount label {
      display: block;
      margin-bottom: 0.5em;
      font-weight: bold;
      color: #333;
    }
    
    .vipps-btn {
      background: linear-gradient(135deg, #007a33, #00a651);
      border: none;
      padding: 15px 30px;
      font-size: 1.1em;
      box-shadow: 0 4px 15px rgba(0,122,51,0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .vipps-btn:hover {
      background: linear-gradient(135deg, #00a651, #007a33);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,122,51,0.4);
    }
    
    .vipps-icon {
      font-size: 1.2em;
    }
    
    /* Tidslinje styling */
    .tidslinje {
      background: #f8f9fa;
      padding: 60px 20px;
    }
    
    .timeline-container {
      max-width: 800px;
      margin: 0 auto;
      position: relative;
    }
    
    .timeline-container::before {
      content: '';
      position: absolute;
      left: 30px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: #007a33;
    }
    
    .timeline-item {
      position: relative;
      margin-bottom: 40px;
      padding-left: 80px;
    }
    
    .timeline-marker {
      position: absolute;
      left: 20px;
      top: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #007a33;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      z-index: 2;
    }
    
    .timeline-item.completed .timeline-marker {
      background: #28a745;
    }
    
    .timeline-item.current .timeline-marker {
      background: #ffc107;
      color: #333;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    .timeline-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .timeline-content h3 {
      margin: 0 0 10px 0;
      color: #007a33;
    }
    
    .timeline-date {
      color: #666;
      font-size: 0.9em;
      font-weight: bold;
    }
    
    /* Fordeler styling */
    .fordeler {
      background: #e8f5e8;
      padding: 60px 20px;
    }
    
    .benefit-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .benefit-item {
      text-align: center;
      padding: 30px 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .benefit-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .benefit-icon {
      font-size: 3em;
      margin-bottom: 15px;
    }
    
    .benefit-item h3 {
      color: #007a33;
      margin: 0 0 15px 0;
      font-size: 1.3em;
    }
    
    .benefit-item p {
      color: #666;
      line-height: 1.6;
      margin: 0;
    }
    
    /* Kart styling */
    .kart {
      background: #f0f8ff;
      padding: 60px 20px;
    }
    
    .map-container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .map-placeholder {
      background: white;
      padding: 40px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border: 2px dashed #007a33;
    }
    
    .map-icon {
      font-size: 4em;
      margin-bottom: 20px;
    }
    
    .map-placeholder p {
      margin: 10px 0;
      color: #333;
    }
    
    /* Kartbilder styling */
    .map-images {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }
    
    .map-item {
      text-align: center;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .map-item h3 {
      color: #007a33;
      margin: 0 0 15px 0;
      font-size: 1.2em;
    }
    
    .map-image {
      width: 100%;
      height: auto;
      border-radius: 8px;
      border: 2px solid #e9ecef;
      transition: transform 0.3s ease;
    }
    
    .map-image:hover {
      transform: scale(1.02);
    }
    
    .map-item p {
      margin: 15px 0 0 0;
      color: #666;
      font-size: 0.9em;
    }
    
    /* Benefits highlight styling */
    .benefits-highlight {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .benefit-card {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 12px;
      border-left: 4px solid #007a33;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .benefit-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }
    
    .benefit-card h3 {
      color: #007a33;
      margin: 0 0 15px 0;
      font-size: 1.1em;
      line-height: 1.3;
    }
    
    .benefit-card p {
      color: #555;
      line-height: 1.6;
      margin: 0;
      text-align: left;
    }
    
    /* Sports illustrations styling */
    .sports-illustrations {
      margin-top: 40px;
      padding: 30px;
      background: #f8f9fa;
      border-radius: 12px;
    }
    
    .sports-illustrations h3 {
      color: #007a33;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.4em;
    }
    
    .sports-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 25px;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .sport-item {
      text-align: center;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .sport-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .sport-image {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 15px;
      border-radius: 8px;
    }
    
    .sport-item h4 {
      color: #007a33;
      margin: 0 0 10px 0;
      font-size: 1.1em;
    }
    
    .sport-item p {
      color: #666;
      margin: 0;
      font-size: 0.9em;
      line-height: 1.4;
    }
    
    /* Midten CTA styling */
    .mid-cta {
      text-align: center;
      margin: 40px 0 20px 0;
    }
    
    /* Leverandører styling */
    .leverandorer {
      background: #f8f9fa;
      padding: 60px 20px;
    }
    
    .supplier-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin: 30px 0;
    }
    
    .supplier-category {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .supplier-category h3 {
      color: #007a33;
      margin: 0 0 15px 0;
      font-size: 1.2em;
    }
    
    .supplier-icon {
      font-size: 2.5em;
      margin-bottom: 15px;
      text-align: center;
    }
    
    .supplier-placeholder {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 2px dashed #007a33;
    }
    
    .supplier-placeholder p {
      color: #666;
      margin: 0 0 10px 0;
      font-size: 0.9em;
    }
    
    .supplier-status {
      background: #ffc107;
      color: #333;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .supplier-cta {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: #e8f5e8;
      border-radius: 8px;
    }
    
    .supplier-cta p {
      margin: 5px 0;
      color: #333;
    }
    
    /* Social sharing styling */
    .social-sharing {
      background: #e8f5e8;
      padding: 60px 20px;
      text-align: center;
    }
    
    .share-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
    }
    
    .share-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-size: 0.9em;
    }
    
    .share-btn.facebook {
      background: #1877f2;
      color: white;
    }
    
    .share-btn.twitter {
      background: #1da1f2;
      color: white;
    }
    
    .share-btn.whatsapp {
      background: #25d366;
      color: white;
    }
    
    .share-btn.copy {
      background: #6c757d;
      color: white;
    }
    
    .share-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .share-icon {
      font-size: 1.2em;
    }
    
    
    /* Forbedret donasjons-status */
    .donasjons-status h3 {
      color: #007a33;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .donation-goal {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
    }
    
    .goal-info, .goal-deadline {
      text-align: center;
    }
    
    .goal-label, .deadline-label {
      display: block;
      font-size: 0.9em;
      color: #666;
      margin-bottom: 5px;
    }
    
    .goal-amount, .deadline-date {
      font-weight: bold;
      color: #007a33;
      font-size: 1.1em;
    }
    
    /* Responsiv design for mindre skjermer */
    @media (max-width: 768px) {
      .donation-goal {
        flex-direction: column;
        gap: 15px;
      }
      
      .benefit-grid {
        grid-template-columns: 1fr;
      }
      
      .timeline-item {
        padding-left: 60px;
      }
      
      .timeline-container::before {
        left: 20px;
      }
      
      .timeline-marker {
        left: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- HERO -->
  <section class="hero">
    <div class="overlay"></div>
    <div class="hero-content">
      <h1>Sammen bygger vi ny ballbinge for vårt nabolag</h1>
      <p>Et trygt og inkluderende sted for lek, idrett og samlingsplass – midt i nærmiljøet.</p>
      <a href="#bidra" class="cta-btn">Støtt prosjektet</a>
    </div>
  </section>

  <!-- BAKGRUNN -->
  <section class="info" id="bakgrunn">
    <h2>Hvorfor trenger vi en ballbinge?</h2>
    <p>Ballbingen blir tilrettelagt for ulike typer ballspill som fotball, håndball, volleyball og basketball. Den vil være et sosialt og inkluderende samlingspunkt for lek, idrett og fellesskap – både i skoletiden og på fritiden.</p>
    
    <div class="benefits-highlight">
      <div class="benefit-card">
        <h3>🏘️ Styrker samhold og fellesskap</h3>
        <p>Ballbingeprosjektet styrker samhold og fellesskap i lokalmiljøet gjennom felles aktivitet og møtested.</p>
      </div>
      <div class="benefit-card">
        <h3>💪 Fremmer helse og trivsel</h3>
        <p>Prosjektet fremmer helse og fremmer trivsel ved å oppmuntre til fysisk aktivitet i nærmiljøet.</p>
      </div>
      <div class="benefit-card">
        <h3>🌍 Universell utforming</h3>
        <p>Anlegget er designet for å være tilgjengelig og brukervennlig for alle aldersgrupper og funksjonsnivåer.</p>
      </div>
    </div>
  </section>

  <!-- PROSJEKT -->
  <section class="prosjekt" id="prosjekt">
    <h2>Prosjektet</h2>
    <p>Ballbingen skal bygges ved den gammle balløkka og vil være tilgjengelig for alle. Underlaget blir kunstgress som tåler helårsbruk.</p>
    <img src="assets/minimalistiskBB.png" alt="Illustrasjon av planlagt ballbinge">
    
    <div class="sports-illustrations">
      <h3>Ballspill som kan spilles på ballbingen</h3>
      <div class="sports-grid">
        <div class="sport-item">
          <img src="assets/animert_fotballbilde.png" alt="Fotball" class="sport-image">
          <h4>Fotball</h4>
          <p>Perfekt for fotballtrening og kamper</p>
        </div>
        <div class="sport-item">
          <img src="assets/basketball_jenter.png" alt="Basketball" class="sport-image">
          <h4>Basketball</h4>
          <p>Basketball for alle aldersgrupper</p>
        </div>
        <div class="sport-item">
          <img src="assets/volleyball.png" alt="Volleyball" class="sport-image">
          <h4>Volleyball</h4>
          <p>Volleyball og håndball</p>
        </div>
      </div>
    </div>
  </section>

  <!-- TIDSLINJE -->
  <section class="tidslinje" id="tidslinje">
    <h2>Prosjektets fremdrift</h2>
    <div class="timeline-container">
      <div class="timeline-item completed">
        <div class="timeline-marker">✓</div>
        <div class="timeline-content">
          <h3>Prosjektkomite og planlegging</h3>
          <p>Nedsatte prosjektkomite og startet planlegging</p>
          <span class="timeline-date">Q2 2025</span>
        </div>
      </div>
      <div class="timeline-item completed">
        <div class="timeline-marker">✓</div>
        <div class="timeline-content">
          <h3>Konsept og finansiering</h3>
          <p>Utarbeidet konsept, finansiering og tilbud på grunnarbeid</p>
          <span class="timeline-date">Q3 2025</span>
        </div>
      </div>
      <div class="timeline-item current">
        <div class="timeline-marker">●</div>
        <div class="timeline-content">
          <h3>Dialog med kommunen og søknad</h3>
          <p>Dialog med kommunen og innsending av søknad om ballbinge</p>
          <span class="timeline-date">Q4 2025</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Dugnad - felling av trær</h3>
          <p>Dugnad for felling av trær på området</p>
          <span class="timeline-date">Q4 2025</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Grunnarbeid trinn 1</h3>
          <p>Grave ned til fjell og fylle på sprengmasse</p>
          <span class="timeline-date">Q4 2025</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Søknader om støtte</h3>
          <p>Søknader til kommunen og ulike tilskuddsordninger</p>
          <span class="timeline-date">Q4 2025 - Q1 2026</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Grunnarbeid trinn 2</h3>
          <p>Plannering, komprimering, grusing og finavretting</p>
          <span class="timeline-date">Q1 2026</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Finplannere og bygge</h3>
          <p>Finplannere og bygge ballbinge på dugnad</p>
          <span class="timeline-date">Q2 2026</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Legge kunstgress</h3>
          <p>Legge kunstgress på ballbingen</p>
          <span class="timeline-date">Q2 2026</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-marker">○</div>
        <div class="timeline-content">
          <h3>Offisiell åpning</h3>
          <p>Ballbingen åpner offisielt for bruk</p>
          <span class="timeline-date">Q3 2026</span>
        </div>
      </div>
    </div>
  </section>

  <!-- FORDELER -->
  <section class="fordeler" id="fordeler">
    <h2>Hvorfor en ballbinge?</h2>
    <div class="benefit-grid">
      <div class="benefit-item">
        <div class="benefit-icon">🏃‍♂️</div>
        <h3>Motivere til økt aktivitet</h3>
        <p>Ballbingen gir et attraktivt miljø som oppmuntrer til mer fysisk bevegelse blant alle aldersgrupper.</p>
      </div>
      <div class="benefit-item">
        <div class="benefit-icon">👥</div>
        <h3>Trygge sosiale arenaer</h3>
        <p>Ballbingen vil fungere som en møteplass hvor barn og foreldre kan bygge vennskap i trygge og inkluderende omgivelser.</p>
      </div>
      <div class="benefit-item">
        <div class="benefit-icon">🌍</div>
        <h3>Universell utforming</h3>
        <p>Anlegget er designet for å være tilgjengelig og brukervennlig for alle aldersgrupper og funksjonsnivåer.</p>
      </div>
      <div class="benefit-item">
        <div class="benefit-icon">❤️</div>
        <h3>Sosialt samvær og inkludering</h3>
        <p>En ballbinge bidrar til økt sosialt samvær og inkluderer både barn, unge og foreldre og besteforeldre.</p>
      </div>
      <div class="benefit-item">
        <div class="benefit-icon">💪</div>
        <h3>Aktiv fritid fremmer helse</h3>
        <p>Engasjement i fysisk aktivitet styrker både fysisk og mental helse.</p>
      </div>
      <div class="benefit-item">
        <div class="benefit-icon">🏘️</div>
        <h3>Samhold og engasjement</h3>
        <p>Velforeningen jobber for å etablere et nabolag med mer sosial kontakt og samhold gjennom aktiviteter utendørs.</p>
      </div>
    </div>
    
    <!-- Midten CTA -->
    <div class="mid-cta">
      <a href="#bidra" class="cta-btn">Støtt prosjektet nå</a>
    </div>
  </section>

  <!-- KART -->
  <section class="kart" id="kart">
    <h2>Hvor skal ballbingen bygges?</h2>
    <p>Ballbingen skal bygges ved den gammle balløkka. Dette er den eneste plassen vi har fått godkjent for prosjektet.</p>
    <div class="map-container">
      <div class="map-images">
        <div class="map-item">
          <h3>Ballbingeområdet</h3>
          <img src="assets/kartutsnitt_ballbinge.png" alt="Kart som viser ballbingeområdet" class="map-image">
          <p>Detaljert kart over ballbingeområdet</p>
        </div>
        <div class="map-item">
          <h3>Nabolaget</h3>
          <img src="assets/kartutsnitt_nabolag.png" alt="Kart som viser nabolaget rundt ballbingen" class="map-image">
          <p>Oversikt over nabolaget og plassering</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FINANSIERING -->
  <section class="finansiering" id="finansiering">
    <h2>Budsjett og finansiering</h2>
    <table>
      <tr><th>Kostnadselement</th><th>Beløp (NOK)</th></tr>
      <tr><td>Ballbinge inkl. underlag</td><td>200 000</td></tr>
      <tr><td>Grunnarbeid</td><td>200 000</td></tr>
      <tr><td>Lys og støydemping</td><td>100 000</td></tr>
      <tr class="sum"><td><strong>Totalt</strong></td><td><strong>500 000</strong></td></tr>
    </table>
    
    <!-- Donasjonsstatus flyttet hit -->
    <div class="donasjons-status">
      <h3>Status på finansiering</h3>
      
      <!-- Hoved progress bar -->
      <div class="progress-container">
        <div class="progress-labels">
          <span class="progress-label">0 kr</span>
          <span class="progress-label goal-label">500 000 kr</span>
        </div>
        <div class="progress-bar-container">
          <div id="progress-bar" class="progress-bar" style="width:0%">
            <span class="progress-text">Laster…</span>
          </div>
          <div id="pledge-bar" class="pledge-bar" style="width:0%">
            <span class="pledge-text">Tilsagn</span>
          </div>
        </div>
      </div>
      
      <!-- Detaljert status -->
      <div class="donation-details">
        <div class="donation-item">
          <span class="donation-label">Egenkapital:</span>
          <span id="equity-tekst" class="equity-amount">35 000 kr</span>
        </div>
        <div class="donation-item">
          <span class="donation-label">Samlet inn:</span>
          <span id="donasjon-tekst" class="donation-amount">...</span>
        </div>
        <div class="donation-item">
          <span class="donation-label">Støttemidler:</span>
          <span id="stotte-tekst" class="stotte-amount">...</span>
        </div>
        <div class="donation-item total">
          <span class="donation-label">Totalt:</span>
          <span id="total-tekst" class="total-amount">...</span>
        </div>
      </div>
      
      <div class="donation-goal">
        <div class="goal-info">
          <span class="goal-label">Mål:</span>
          <span class="goal-amount">500 000 kr</span>
        </div>
        <div class="goal-deadline">
          <span class="deadline-label">Målsetning:</span>
          <span class="deadline-date">Q3 2026</span>
        </div>
      </div>
    </div>
    
    <p>Ditt bidrag gjør en stor forskjell!</p>
  </section>

<!-- BIDRA -->
<section class="bidra" id="bidra">
  <h2>Hvordan du kan bidra</h2>
  <p>Vil du støtte prosjektet økonomisk eller som samarbeidspartner?</p>
  <p><strong>Vipps:</strong> <span id="vipps-number">hentes…</span> (merk "Ballbinge Vågsbygd")</p>

  <!-- Vipps-donasjonsskjema -->
  <form class="vipps-form" id="vippsForm" onsubmit="return handleVipps(event);">
    <label for="vippsBelop" style="margin-bottom:0.3em;">Velg beløp</label>
    
    <!-- Forhåndsdefinerte beløp -->
    <div class="amount-buttons">
      <button type="button" class="amount-btn" data-amount="100">100 kr</button>
      <button type="button" class="amount-btn" data-amount="250">250 kr</button>
      <button type="button" class="amount-btn" data-amount="500">500 kr</button>
      <button type="button" class="amount-btn" data-amount="1000">1000 kr</button>
    </div>
    
    <div class="custom-amount">
      <label for="vippsBelop">Eller skriv inn eget beløp:</label>
      <input 
        type="number" 
        id="vippsBelop" 
        min="20" 
        step="10" 
        max="50000" 
        value="200"
        required
        placeholder="Skriv beløp"
      >
    </div>
    
    <input 
      type="text"
      id="vippsMessage"
      maxlength="50"
      value="Ballbinge Vågsbygd"
      style="display:none;"
    >
    <button class="cta-btn vipps-btn" id="vippsSubmitBtn" type="submit">
      <span class="vipps-icon">📱</span>
      Støtt prosjektet med Vipps
    </button>
    
    <!-- Fallback for når Vipps ikke er tilgjengelig -->
    <div class="fallback-info" style="margin-top: 1em; font-size: 0.9em; color: #666;">
      <p>💡 <strong>Tips:</strong> Hvis Vipps ikke åpner, kan du også overføre direkte til Vipps-nummeret vist over.</p>
    </div>
  </form>

  <a href="#kontakt" class="cta-btn">Ta kontakt</a>
</section>


  <!-- LEVERANDØRER -->
  <section class="leverandorer" id="leverandorer">
    <h2>Våre leverandører</h2>
    <p>Vi samarbeider med lokale og nasjonale leverandører for å sikre kvalitet og beste pris.</p>
    
    <div class="supplier-grid">
      <div class="supplier-category">
        <div class="supplier-icon">🚧</div>
        <h3>Grunnarbeid</h3>
        <div class="supplier-placeholder">
          <p>Leverandør for grunnarbeid trinn 1 og 2</p>
          <span class="supplier-status">Kommer snart</span>
        </div>
      </div>
      
      <div class="supplier-category">
        <div class="supplier-icon">⚽</div>
        <h3>Utstyr</h3>
        <div class="supplier-placeholder">
          <p>Leverandør for mål, nett og annet utstyr</p>
          <span class="supplier-status">Kommer snart</span>
        </div>
      </div>
      
      <div class="supplier-category">
        <div class="supplier-icon">🧱</div>
        <h3>Materialer</h3>
        <div class="supplier-placeholder">
          <p>Leverandør for ballbinge-materialer</p>
          <span class="supplier-status">Kommer snart</span>
        </div>
      </div>
      
      <div class="supplier-category">
        <div class="supplier-icon">🌱</div>
        <h3>Kunstgress</h3>
        <div class="supplier-placeholder">
          <p>Leverandør for kunstgress og underlag</p>
          <span class="supplier-status">Kommer snart</span>
        </div>
      </div>
    </div>
    
    <div class="supplier-cta">
      <p><strong>Interessert i å bli leverandør?</strong></p>
      <p>Kontakt oss for å diskutere muligheter for samarbeid!</p>
    </div>
  </section>

  <!-- SOCIAL SHARING -->
  <section class="social-sharing" id="social">
    <h2>Del prosjektet</h2>
    <p>Hjelp oss å spre ordet om ballbingeprosjektet!</p>
    
    <div class="share-buttons">
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://magnato-tech.github.io/ballbinge" 
         target="_blank" class="share-btn facebook">
        <span class="share-icon">📘</span>
        Del på Facebook
      </a>
      
      <a href="https://twitter.com/intent/tweet?text=Sammen bygger vi ny ballbinge for vårt nabolag! Støtt prosjektet:&url=https://magnato-tech.github.io/ballbinge" 
         target="_blank" class="share-btn twitter">
        <span class="share-icon">🐦</span>
        Del på Twitter
      </a>
      
      <a href="https://wa.me/?text=Sammen bygger vi ny ballbinge for vårt nabolag! Støtt prosjektet: https://magnato-tech.github.io/ballbinge" 
         target="_blank" class="share-btn whatsapp">
        <span class="share-icon">💬</span>
        Del på WhatsApp
      </a>
      
      <button onclick="copyLink()" class="share-btn copy">
        <span class="share-icon">📋</span>
        Kopier lenke
      </button>
    </div>
  </section>

  <!-- KONTAKT -->
  <section class="kontakt" id="kontakt">
    <h2>Kontakt oss</h2>
    
    <h3>Prosjektgruppe</h3>
    <p><strong>Velformann:</strong> Magnar Totland</p>
    <p><strong>Prosjektleder:</strong> Henrik Knutsen</p>
    <p><strong>Prosjektmedlem:</strong> Gaute Ass Levang</p>
    
    <p>Følg oss på Facebook for oppdateringer!</p>
  </section>

  <footer>
    <p>© 2025 Rådyrveien og Rådyrstien Velforening – Ballbingeprosjektet</p>
  </footer>

  <script>
    // Hent Vipps-nummer og donasjonssum, oppdater progressbar
    let totalNok = 0, stotteNok = 0, equityNok = 35000, goalNok = 500000, lastUpdate = 0;
    const progressBar = document.getElementById('progress-bar');
    const pledgeBar = document.getElementById('pledge-bar');
    const statusText = document.getElementById('donasjon-tekst');
    const stotteText = document.getElementById('stotte-tekst');
    const equityText = document.getElementById('equity-tekst');
    const totalText = document.getElementById('total-tekst');
    const vippsNumberEl = document.getElementById('vipps-number');
    let vippsRecipient = '';

    async function oppdaterDonasjoner() {
      try {
        const res = await fetch('/api/donations/summary');
        if (!res.ok) throw new Error("Responsfeil fra server");
        const data = await res.json();
        totalNok = data.total || 0;
        stotteNok = data.stotte || 0;
        goalNok = data.goal || 500000;
        
        // Oppdater progressbar
        let totalAmount = totalNok + stotteNok + equityNok;
        let prosent = Math.min(100, Math.round(100 * totalNok / goalNok));
        let stotteProsent = Math.min(100, Math.round(100 * stotteNok / goalNok));
        
        progressBar.style.width = prosent + "%";
        pledgeBar.style.width = stotteProsent + "%";
        
        // Oppdater tekst
        statusText.textContent = totalNok.toLocaleString('no-NO') + ' kr';
        stotteText.textContent = stotteNok.toLocaleString('no-NO') + ' kr';
        equityText.textContent = equityNok.toLocaleString('no-NO') + ' kr';
        totalText.textContent = totalAmount.toLocaleString('no-NO') + ' kr';
        
        // Oppdater progress bar tekst
        if (prosent > 0) {
          progressBar.innerHTML = `<span class="progress-text">${prosent}%</span>`;
        }
        if (stotteProsent > 0) {
          pledgeBar.innerHTML = `<span class="pledge-text">${stotteProsent}%</span>`;
        }
        
      } catch (e) {
        // Ingen data tilgjengelig ennå – vis 0 som standard
        totalNok = 0;
        stotteNok = 0;
        const totalAmount = equityNok;
        const prosent = 0;
        const stotteProsent = 0;

        progressBar.style.width = '0%';
        pledgeBar.style.width = '0%';

        statusText.textContent = '0 kr';
        stotteText.textContent = '0 kr';
        equityText.textContent = equityNok.toLocaleString('no-NO') + ' kr';
        totalText.textContent = totalAmount.toLocaleString('no-NO') + ' kr';

        progressBar.innerHTML = '<span class="progress-text">0%</span>';
        pledgeBar.innerHTML = '<span class="pledge-text">0%</span>';
      }
    }

    // Hent Vipps-nummer fra ENV (lekkes i frontend kun formål demonstrasjon/mock)
    async function hentVippsNummer() {
      try {
        const res = await fetch('/api/vipps/recipient');
        if (!res.ok) throw new Error("Ikke funnet");
        const data = await res.json();
        vippsNumberEl.textContent = data.recipient || '123456';
        vippsRecipient = data.recipient || '123456';
      } catch {
        vippsNumberEl.textContent = '123456';
        vippsRecipient = '123456';
      }
    }

    hentVippsNummer();
    oppdaterDonasjoner();
    setInterval(oppdaterDonasjoner, 30_000);

    // Håndter forhåndsdefinerte beløp-knapper
    document.addEventListener('DOMContentLoaded', function() {
      const amountButtons = document.querySelectorAll('.amount-btn');
      const amountInput = document.getElementById('vippsBelop');
      
      amountButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Fjern active-klasse fra alle knapper
          amountButtons.forEach(btn => btn.classList.remove('active'));
          // Legg til active-klasse på valgt knapp
          this.classList.add('active');
          // Oppdater input-feltet
          amountInput.value = this.dataset.amount;
        });
      });
      
      // Håndter endringer i input-feltet
      amountInput.addEventListener('input', function() {
        // Fjern active-klasse fra alle knapper når bruker skriver eget beløp
        amountButtons.forEach(btn => btn.classList.remove('active'));
      });
    });

    // Vipps-knapp-flyt
    async function handleVipps(e) {
      e.preventDefault();
      const belop = document.getElementById('vippsBelop').value;
      const melding = document.getElementById('vippsMessage').value;
      const btn = document.getElementById('vippsSubmitBtn');
      
      // Validering
      if (!belop || belop < 20) {
        alert('Beløpet må være minst 20 kr');
        return false;
      }
      
      btn.disabled = true; 
      btn.innerHTML = '<span class="vipps-icon">⏳</span> Sender...';
      
      // Simuler API-kall for testing
      setTimeout(() => {
        // Vis test-modal med Vipps-informasjon
        const testModal = document.createElement('div');
        testModal.style.cssText = `
          position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
          background: rgba(0,0,0,0.8); z-index: 10000; display: flex; 
          align-items: center; justify-content: center; font-family: Arial;
        `;
        
        testModal.innerHTML = `
          <div style="background: white; padding: 30px; border-radius: 12px; max-width: 400px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
            <h3 style="color: #007a33; margin-top: 0;">📱 Vipps Test-Modus</h3>
            <p><strong>Beløp:</strong> ${belop} kr</p>
            <p><strong>Melding:</strong> ${melding}</p>
            <p><strong>Vipps-nummer:</strong> ${vippsRecipient}</p>
            <hr style="margin: 20px 0;">
            <p style="color: #666; font-size: 0.9em;">
              💡 I produksjon vil dette åpne Vipps-appen direkte
            </p>
            <button onclick="this.parentElement.parentElement.remove()" 
                    style="background: #007a33; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; margin-top: 15px;">
              Lukk
            </button>
          </div>
        `;
        
        document.body.appendChild(testModal);
        
        // Lukk modal ved klikk utenfor
        testModal.addEventListener('click', (e) => {
          if (e.target === testModal) testModal.remove();
        });
        
        btn.disabled = false; 
        btn.innerHTML = '<span class="vipps-icon">📱</span> Støtt prosjektet med Vipps';
      }, 1500);
      
      return false;
    }
    
    // Copy link funksjon
    function copyLink() {
      const url = window.location.href;
      navigator.clipboard.writeText(url).then(() => {
        alert('Lenke kopiert til utklippstavle!');
      }).catch(() => {
        // Fallback for eldre nettlesere
        const textArea = document.createElement('textarea');
        textArea.value = url;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('Lenke kopiert til utklippstavle!');
      });
    }
  </script>
</body>
</html>
